!function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Choose language":"Choose language",Language:"Language","Remove language":"Remove language"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),
/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var e={782:(e,t,n)=>{e.exports=n(237)("./src/core.js")},311:(e,t,n)=>{e.exports=n(237)("./src/ui.js")},584:(e,t,n)=>{e.exports=n(237)("./src/utils.js")},237:e=>{"use strict";e.exports=CKEditor5.dll}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{"use strict";n.r(a),n.d(a,{TextPartLanguage:()=>s,TextPartLanguageEditing:()=>r,TextPartLanguageUI:()=>u});var e=n(782),t=n(584);function o(e,n){return`${e}:${n=n||(0,t.getLanguageDirection)(e)}`}class i extends e.Command{refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"language")}execute({languageCode:e,textDirection:t}={}){const n=this.editor.model,a=n.document.selection,i=!!e&&o(e,t);n.change((e=>{if(a.isCollapsed)i?e.setSelectionAttribute("language",i):e.removeSelectionAttribute("language");else{const t=n.schema.getValidRanges(a.getRanges(),"language");for(const n of t)i?e.setAttribute("language",i,n):e.removeAttribute("language",n)}}))}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.getAttribute("language")||!1;for(const e of n.getRanges())for(const n of e.getItems())if(t.checkAttribute(n,"language"))return n.getAttribute("language")||!1;return!1}}class r extends e.Plugin{static get pluginName(){return"TextPartLanguageEditing"}constructor(e){super(e),e.config.define("language",{textPartLanguage:[{title:"Arabic",languageCode:"ar"},{title:"French",languageCode:"fr"},{title:"Spanish",languageCode:"es"}]})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"language"}),e.model.schema.setAttributeProperties("language",{copyOnEnter:!0}),this._defineConverters(),e.commands.add("textPartLanguage",new i(e))}_defineConverters(){const e=this.editor.conversion;e.for("upcast").elementToAttribute({model:{key:"language",value:e=>o(e.getAttribute("lang"),e.getAttribute("dir"))},view:{name:"span",attributes:{lang:/[\s\S]+/}}}),e.for("downcast").attributeToElement({model:"language",view:(e,{writer:t},n)=>{if(!e)return;if(!n.item.is("$textProxy")&&!n.item.is("documentSelection"))return;const{languageCode:a,textDirection:o}=function(e){const[t,n]=e.split(":");return{languageCode:t,textDirection:n}}(e);return t.createAttributeElement("span",{lang:a,dir:o})}})}}var g=n(311);class u extends e.Plugin{static get pluginName(){return"TextPartLanguageUI"}init(){const e=this.editor,t=e.t,n=t("Choose language"),a=t("Language");e.ui.componentFactory.add("textPartLanguage",(t=>{const{definitions:o,titles:i}=this._getItemMetadata(),r=e.commands.get("textPartLanguage"),u=(0,g.createDropdown)(t);return(0,g.addListToDropdown)(u,o,{ariaLabel:a,role:"menu"}),u.buttonView.set({ariaLabel:a,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:a}),u.extendTemplate({attributes:{class:["ck-text-fragment-language-dropdown"]}}),u.bind("isEnabled").to(r,"isEnabled"),u.buttonView.bind("label").to(r,"value",(e=>e&&i[e]||n)),u.buttonView.bind("ariaLabel").to(r,"value",(e=>{const t=e&&i[e];return t?`${t}, ${a}`:a})),this.listenTo(u,"execute",(t=>{r.execute({languageCode:t.source.languageCode,textDirection:t.source.textDirection}),e.editing.view.focus()})),u})),e.ui.componentFactory.add("menuBar:textPartLanguage",(n=>{const{definitions:o}=this._getItemMetadata(),i=e.commands.get("textPartLanguage"),r=new g.MenuBarMenuView(n);r.buttonView.set({label:a});const u=new g.MenuBarMenuListView(n);u.set({ariaLabel:t("Language"),role:"menu"});for(const e of o){if("button"!=e.type){u.items.add(new g.ListSeparatorView(n));continue}const t=new g.MenuBarMenuListItemView(n,r),a=new g.MenuBarMenuListItemButtonView(n);a.bind(...Object.keys(e.model)).to(e.model),a.bind("ariaChecked").to(a,"isOn"),a.delegate("execute").to(r),t.children.add(a),u.items.add(t)}return r.bind("isEnabled").to(i,"isEnabled"),r.panelView.children.add(u),r.on("execute",(t=>{i.execute({languageCode:t.source.languageCode,textDirection:t.source.textDirection}),e.editing.view.focus()})),r}))}_getItemMetadata(){const e=this.editor,n=new t.Collection,a={},i=e.commands.get("textPartLanguage"),r=e.config.get("language.textPartLanguage"),u=(0,e.locale.t)("Remove language");n.add({type:"button",model:new g.ViewModel({label:u,languageCode:!1,withText:!0})}),n.add({type:"separator"});for(const e of r){const t={type:"button",model:new g.ViewModel({label:e.title,languageCode:e.languageCode,role:"menuitemradio",textDirection:e.textDirection,withText:!0})},r=o(e.languageCode,e.textDirection);t.model.bind("isOn").to(i,"value",(e=>e===r)),n.add(t),a[r]=e.title}return{definitions:n,titles:a}}}class s extends e.Plugin{static get requires(){return[r,u]}static get pluginName(){return"TextPartLanguage"}}})(),(window.CKEditor5=window.CKEditor5||{}).language=a})();